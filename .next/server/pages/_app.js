/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "./apollo/client/cache.js":
/*!********************************!*\
  !*** ./apollo/client/cache.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cache\": () => (/* binding */ cache),\n/* harmony export */   \"cartProductsVar\": () => (/* binding */ cartProductsVar),\n/* harmony export */   \"isDrawerOpenVar\": () => (/* binding */ isDrawerOpenVar),\n/* harmony export */   \"sortProductSectionVar\": () => (/* binding */ sortProductSectionVar),\n/* harmony export */   \"wishlistProductsVar\": () => (/* binding */ wishlistProductsVar)\n/* harmony export */ });\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @apollo/client */ \"@apollo/client\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst cache = new _apollo_client__WEBPACK_IMPORTED_MODULE_0__.InMemoryCache({\n    typePolicies: {\n        Query: {\n            fields: {\n                isDrawerOpen: {\n                    read () {\n                        return isDrawerOpenVar();\n                    }\n                },\n                sortProductSection: {\n                    read () {\n                        return sortProductSectionVar();\n                    }\n                },\n                cart: {\n                    read () {\n                        return {\n                            products: cartProductsVar(),\n                            cartCount: cartProductsVar().length\n                        };\n                    }\n                },\n                wishlist: {\n                    read () {\n                        return {\n                            products: wishlistProductsVar(),\n                            wishlistCount: wishlistProductsVar().length\n                        };\n                    }\n                }\n            }\n        }\n    }\n});\nconst isDrawerOpenVar = cache.makeVar(false);\nconst sortProductSectionVar = cache.makeVar([\n    \"rating\",\n    \"DESC\"\n]);\nconst cartProductsVar = cache.makeVar([]);\nconst wishlistProductsVar = cache.makeVar([]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcG9sbG8vY2xpZW50L2NhY2hlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0M7QUFFeEMsTUFBTUMsS0FBSyxHQUFHLElBQUlELHlEQUFhLENBQUM7SUFDckNFLFlBQVksRUFBRTtRQUNaQyxLQUFLLEVBQUU7WUFDTEMsTUFBTSxFQUFFO2dCQUNOQyxZQUFZLEVBQUU7b0JBQ1pDLElBQUksSUFBRzt3QkFDTCxPQUFPQyxlQUFlLEVBQUUsQ0FBQztvQkFDM0IsQ0FBQztpQkFDRjtnQkFDREMsa0JBQWtCLEVBQUU7b0JBQ2xCRixJQUFJLElBQUc7d0JBQ0wsT0FBT0cscUJBQXFCLEVBQUUsQ0FBQztvQkFDakMsQ0FBQztpQkFDRjtnQkFDREMsSUFBSSxFQUFFO29CQUNKSixJQUFJLElBQUc7d0JBQ0wsT0FBTzs0QkFDTEssUUFBUSxFQUFFQyxlQUFlLEVBQUU7NEJBQzNCQyxTQUFTLEVBQUVELGVBQWUsRUFBRSxDQUFDRSxNQUFNO3lCQUNwQyxDQUFDO29CQUNKLENBQUM7aUJBQ0Y7Z0JBQ0RDLFFBQVEsRUFBRTtvQkFDUlQsSUFBSSxJQUFHO3dCQUNMLE9BQU87NEJBQ0xLLFFBQVEsRUFBRUssbUJBQW1CLEVBQUU7NEJBQy9CQyxhQUFhLEVBQUVELG1CQUFtQixFQUFFLENBQUNGLE1BQU07eUJBQzVDLENBQUM7b0JBQ0osQ0FBQztpQkFDRjthQUNGO1NBQ0Y7S0FDRjtDQUNGLENBQUMsQ0FBQztBQUVJLE1BQU1QLGVBQWUsR0FBR04sS0FBSyxDQUFDaUIsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBRTdDLE1BQU1ULHFCQUFxQixHQUFHUixLQUFLLENBQUNpQixPQUFPLENBQUM7SUFBQyxRQUFRO0lBQUUsTUFBTTtDQUFDLENBQUMsQ0FBQztBQUVoRSxNQUFNTixlQUFlLEdBQUdYLEtBQUssQ0FBQ2lCLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUUxQyxNQUFNRixtQkFBbUIsR0FBR2YsS0FBSyxDQUFDaUIsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkYnJpZGdlLy4vYXBvbGxvL2NsaWVudC9jYWNoZS5qcz9lMDVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluTWVtb3J5Q2FjaGUgfSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5cbmV4cG9ydCBjb25zdCBjYWNoZSA9IG5ldyBJbk1lbW9yeUNhY2hlKHtcbiAgdHlwZVBvbGljaWVzOiB7XG4gICAgUXVlcnk6IHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBpc0RyYXdlck9wZW46IHtcbiAgICAgICAgICByZWFkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRHJhd2VyT3BlblZhcigpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHNvcnRQcm9kdWN0U2VjdGlvbjoge1xuICAgICAgICAgIHJlYWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc29ydFByb2R1Y3RTZWN0aW9uVmFyKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY2FydDoge1xuICAgICAgICAgIHJlYWQoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwcm9kdWN0czogY2FydFByb2R1Y3RzVmFyKCksXG4gICAgICAgICAgICAgIGNhcnRDb3VudDogY2FydFByb2R1Y3RzVmFyKCkubGVuZ3RoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB3aXNobGlzdDoge1xuICAgICAgICAgIHJlYWQoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBwcm9kdWN0czogd2lzaGxpc3RQcm9kdWN0c1ZhcigpLFxuICAgICAgICAgICAgICB3aXNobGlzdENvdW50OiB3aXNobGlzdFByb2R1Y3RzVmFyKCkubGVuZ3RoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBpc0RyYXdlck9wZW5WYXIgPSBjYWNoZS5tYWtlVmFyKGZhbHNlKTtcblxuZXhwb3J0IGNvbnN0IHNvcnRQcm9kdWN0U2VjdGlvblZhciA9IGNhY2hlLm1ha2VWYXIoWydyYXRpbmcnLCAnREVTQyddKTtcblxuZXhwb3J0IGNvbnN0IGNhcnRQcm9kdWN0c1ZhciA9IGNhY2hlLm1ha2VWYXIoW10pO1xuXG5leHBvcnQgY29uc3Qgd2lzaGxpc3RQcm9kdWN0c1ZhciA9IGNhY2hlLm1ha2VWYXIoW10pO1xuIl0sIm5hbWVzIjpbIkluTWVtb3J5Q2FjaGUiLCJjYWNoZSIsInR5cGVQb2xpY2llcyIsIlF1ZXJ5IiwiZmllbGRzIiwiaXNEcmF3ZXJPcGVuIiwicmVhZCIsImlzRHJhd2VyT3BlblZhciIsInNvcnRQcm9kdWN0U2VjdGlvbiIsInNvcnRQcm9kdWN0U2VjdGlvblZhciIsImNhcnQiLCJwcm9kdWN0cyIsImNhcnRQcm9kdWN0c1ZhciIsImNhcnRDb3VudCIsImxlbmd0aCIsIndpc2hsaXN0Iiwid2lzaGxpc3RQcm9kdWN0c1ZhciIsIndpc2hsaXN0Q291bnQiLCJtYWtlVmFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apollo/client/cache.js\n");

/***/ }),

/***/ "./apollo/client/index.js":
/*!********************************!*\
  !*** ./apollo/client/index.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"initializeApollo\": () => (/* binding */ initializeApollo),\n/* harmony export */   \"useApollo\": () => (/* binding */ useApollo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @apollo/client */ \"@apollo/client\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache */ \"./apollo/client/cache.js\");\n\n\n\nlet apolloClient;\nfunction createIsomorphLink() {\n    if (true) {\n        const { SchemaLink  } = __webpack_require__(/*! @apollo/client/link/schema */ \"@apollo/client/link/schema\");\n        const { schema  } = __webpack_require__(/*! ../schema */ \"./apollo/schema.js\");\n        return new SchemaLink({\n            schema\n        });\n    } else {}\n}\nfunction createApolloClient() {\n    return new _apollo_client__WEBPACK_IMPORTED_MODULE_1__.ApolloClient({\n        ssrMode: \"undefined\" === \"undefined\",\n        link: createIsomorphLink(),\n        cache: _cache__WEBPACK_IMPORTED_MODULE_2__.cache\n    });\n}\nfunction initializeApollo(initialState = null) {\n    const _apolloClient = apolloClient ?? createApolloClient();\n    // If your page has Next.js data fetching methods that use Apollo Client, the initial state\n    // get hydrated here\n    if (initialState) {\n        _apolloClient.cache.restore(initialState);\n    }\n    // For SSG and SSR always create a new Apollo Client\n    if (true) return _apolloClient;\n    // Create the Apollo Client once in the client\n    if (!apolloClient) apolloClient = _apolloClient;\n    return _apolloClient;\n}\nfunction useApollo(initialState) {\n    const store = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>initializeApollo(initialState), [\n        initialState\n    ]);\n    return store;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcG9sbG8vY2xpZW50L2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBZ0M7QUFDYztBQUVkO0FBRWhDLElBQUlHLFlBQVk7QUFFaEIsU0FBU0Msa0JBQWtCLEdBQUc7SUFDNUIsSUFBSSxJQUE2QixFQUFFO1FBQ2pDLE1BQU0sRUFBRUMsVUFBVSxHQUFFLEdBQUdDLG1CQUFPLENBQUMsOERBQTRCLENBQUM7UUFDNUQsTUFBTSxFQUFFQyxNQUFNLEdBQUUsR0FBR0QsbUJBQU8sQ0FBQyxxQ0FBVyxDQUFDO1FBQ3ZDLE9BQU8sSUFBSUQsVUFBVSxDQUFDO1lBQUVFLE1BQU07U0FBRSxDQUFDLENBQUM7SUFDcEMsT0FBTyxFQU1OO0FBQ0gsQ0FBQztBQUVELFNBQVNJLGtCQUFrQixHQUFHO0lBQzVCLE9BQU8sSUFBSVYsd0RBQVksQ0FBQztRQUN0QlcsT0FBTyxFQUFFLFdBQWEsS0FBSyxXQUFXO1FBQ3RDQyxJQUFJLEVBQUVULGtCQUFrQixFQUFFO1FBQzFCRixLQUFLLEVBQUVBLHlDQUFLO0tBQ2IsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVNLFNBQVNZLGdCQUFnQixDQUFDQyxZQUFZLEdBQUcsSUFBSSxFQUFFO0lBQ3BELE1BQU1DLGFBQWEsR0FBR2IsWUFBWSxJQUFJUSxrQkFBa0IsRUFBRTtJQUUxRCwyRkFBMkY7SUFDM0Ysb0JBQW9CO0lBQ3BCLElBQUlJLFlBQVksRUFBRTtRQUNoQkMsYUFBYSxDQUFDZCxLQUFLLENBQUNlLE9BQU8sQ0FBQ0YsWUFBWSxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUNELG9EQUFvRDtJQUNwRCxJQUFJLElBQTZCLEVBQUUsT0FBT0MsYUFBYSxDQUFDO0lBQ3hELDhDQUE4QztJQUM5QyxJQUFJLENBQUNiLFlBQVksRUFBRUEsWUFBWSxHQUFHYSxhQUFhLENBQUM7SUFFaEQsT0FBT0EsYUFBYSxDQUFDO0FBQ3ZCLENBQUM7QUFFTSxTQUFTRSxTQUFTLENBQUNILFlBQVksRUFBRTtJQUN0QyxNQUFNSSxLQUFLLEdBQUduQiw4Q0FBTyxDQUFDLElBQU1jLGdCQUFnQixDQUFDQyxZQUFZLENBQUMsRUFBRTtRQUFDQSxZQUFZO0tBQUMsQ0FBQztJQUMzRSxPQUFPSSxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkYnJpZGdlLy4vYXBvbGxvL2NsaWVudC9pbmRleC5qcz85MzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBcG9sbG9DbGllbnQgfSBmcm9tICdAYXBvbGxvL2NsaWVudCc7XG5cbmltcG9ydCB7IGNhY2hlIH0gZnJvbSAnLi9jYWNoZSc7XG5cbmxldCBhcG9sbG9DbGllbnQ7XG5cbmZ1bmN0aW9uIGNyZWF0ZUlzb21vcnBoTGluaygpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3QgeyBTY2hlbWFMaW5rIH0gPSByZXF1aXJlKCdAYXBvbGxvL2NsaWVudC9saW5rL3NjaGVtYScpO1xuICAgIGNvbnN0IHsgc2NoZW1hIH0gPSByZXF1aXJlKCcuLi9zY2hlbWEnKTtcbiAgICByZXR1cm4gbmV3IFNjaGVtYUxpbmsoeyBzY2hlbWEgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgeyBIdHRwTGluayB9ID0gcmVxdWlyZSgnQGFwb2xsby9jbGllbnQvbGluay9odHRwJyk7XG4gICAgcmV0dXJuIG5ldyBIdHRwTGluayh7XG4gICAgICB1cmk6ICcvYXBpL2dyYXBocWwnLFxuICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlQXBvbGxvQ2xpZW50KCkge1xuICByZXR1cm4gbmV3IEFwb2xsb0NsaWVudCh7XG4gICAgc3NyTW9kZTogdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcsXG4gICAgbGluazogY3JlYXRlSXNvbW9ycGhMaW5rKCksXG4gICAgY2FjaGU6IGNhY2hlLFxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVBcG9sbG8oaW5pdGlhbFN0YXRlID0gbnVsbCkge1xuICBjb25zdCBfYXBvbGxvQ2xpZW50ID0gYXBvbGxvQ2xpZW50ID8/IGNyZWF0ZUFwb2xsb0NsaWVudCgpO1xuXG4gIC8vIElmIHlvdXIgcGFnZSBoYXMgTmV4dC5qcyBkYXRhIGZldGNoaW5nIG1ldGhvZHMgdGhhdCB1c2UgQXBvbGxvIENsaWVudCwgdGhlIGluaXRpYWwgc3RhdGVcbiAgLy8gZ2V0IGh5ZHJhdGVkIGhlcmVcbiAgaWYgKGluaXRpYWxTdGF0ZSkge1xuICAgIF9hcG9sbG9DbGllbnQuY2FjaGUucmVzdG9yZShpbml0aWFsU3RhdGUpO1xuICB9XG4gIC8vIEZvciBTU0cgYW5kIFNTUiBhbHdheXMgY3JlYXRlIGEgbmV3IEFwb2xsbyBDbGllbnRcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gX2Fwb2xsb0NsaWVudDtcbiAgLy8gQ3JlYXRlIHRoZSBBcG9sbG8gQ2xpZW50IG9uY2UgaW4gdGhlIGNsaWVudFxuICBpZiAoIWFwb2xsb0NsaWVudCkgYXBvbGxvQ2xpZW50ID0gX2Fwb2xsb0NsaWVudDtcblxuICByZXR1cm4gX2Fwb2xsb0NsaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFwb2xsbyhpbml0aWFsU3RhdGUpIHtcbiAgY29uc3Qgc3RvcmUgPSB1c2VNZW1vKCgpID0+IGluaXRpYWxpemVBcG9sbG8oaW5pdGlhbFN0YXRlKSwgW2luaXRpYWxTdGF0ZV0pO1xuICByZXR1cm4gc3RvcmU7XG59XG4iXSwibmFtZXMiOlsidXNlTWVtbyIsIkFwb2xsb0NsaWVudCIsImNhY2hlIiwiYXBvbGxvQ2xpZW50IiwiY3JlYXRlSXNvbW9ycGhMaW5rIiwiU2NoZW1hTGluayIsInJlcXVpcmUiLCJzY2hlbWEiLCJIdHRwTGluayIsInVyaSIsImNyZWRlbnRpYWxzIiwiY3JlYXRlQXBvbGxvQ2xpZW50Iiwic3NyTW9kZSIsImxpbmsiLCJpbml0aWFsaXplQXBvbGxvIiwiaW5pdGlhbFN0YXRlIiwiX2Fwb2xsb0NsaWVudCIsInJlc3RvcmUiLCJ1c2VBcG9sbG8iLCJzdG9yZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./apollo/client/index.js\n");

/***/ }),

/***/ "./apollo/resolvers.js":
/*!*****************************!*\
  !*** ./apollo/resolvers.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"resolvers\": () => (/* binding */ resolvers)\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/user */ \"./lib/user.js\");\n/* harmony import */ var _lib_category__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/category */ \"./lib/category.js\");\n/* harmony import */ var _lib_product__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/product */ \"./lib/product.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/auth */ \"./lib/auth.js\");\n/* harmony import */ var _lib_auth_cookies__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/auth-cookies */ \"./lib/auth-cookies.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_user__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_user__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\nconst resolvers = {\n    Query: {\n        async viewer (_parent, _args, context, _info) {\n            try {\n                const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.getLoginSession)(context.req);\n                if (session) {\n                    return (0,_lib_user__WEBPACK_IMPORTED_MODULE_1__.findUser)({\n                        email: session.email\n                    });\n                }\n            } catch (error) {\n                throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.AuthenticationError(\"Authentication token is invalid, please log in\");\n            }\n        },\n        async products (_parent, args, _context, _info) {\n            try {\n                // Sort + Category\n                if (args.sort && args.category) return (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.listProducts)({\n                    sort: args.sort,\n                    category: args.category\n                });\n                else if (args.sort) return (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.listProducts)({\n                    sort: args.sort\n                });\n                else if (args.category) return (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.listProducts)({\n                    category: args.category\n                });\n                // Default\n                return (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.listProducts)({\n                    sort: false,\n                    category: false\n                });\n            } catch (error) {\n                throw new Error(\"It is not possible list products\");\n            }\n        },\n        async productsById (_parent, args, _context, _info) {\n            try {\n                return await (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.findProductsById)({\n                    id: args.id\n                });\n            } catch (error) {\n                throw new Error(\"It is not possible list products\");\n            }\n        },\n        async product (_parent, args, _context, _info) {\n            try {\n                return (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.findProduct)({\n                    id: args.id\n                });\n            } catch (error) {\n                throw new Error(\"It is not possible list product\");\n            }\n        },\n        async categories (_parent, _args, _context, _info) {\n            try {\n                return (0,_lib_category__WEBPACK_IMPORTED_MODULE_2__.listCategories)();\n            } catch (error) {\n                throw new Error(\"It is not possible list categories\");\n            }\n        }\n    },\n    Mutation: {\n        async signUp (_parent, args, _context, _info) {\n            const userExist = await (0,_lib_user__WEBPACK_IMPORTED_MODULE_1__.findUser)({\n                email: args.input.email\n            });\n            if (userExist) throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.UserInputError(\"email is already in use, try to login\");\n            const user = await (0,_lib_user__WEBPACK_IMPORTED_MODULE_1__.createUser)(args.input);\n            return {\n                user\n            };\n        },\n        async signIn (_parent, args, context, _info) {\n            const user = await (0,_lib_user__WEBPACK_IMPORTED_MODULE_1__.findUser)({\n                email: args.input.email\n            });\n            if (user && await (0,_lib_user__WEBPACK_IMPORTED_MODULE_1__.validatePassword)(user, args.input.password)) {\n                const session = {\n                    id: user.id,\n                    email: user.email\n                };\n                await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.setLoginSession)(context.res, session);\n                return {\n                    user\n                };\n            }\n            throw new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.UserInputError(\"Invalid email and password combination\");\n        },\n        async signOut (_parent, _args, context, _info) {\n            (0,_lib_auth_cookies__WEBPACK_IMPORTED_MODULE_5__.removeTokenCookie)(context.res);\n            return true;\n        },\n        async createProduct (_parent, args, _context, _info) {\n            try {\n                const product = await (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.CreateProduct)(args.input);\n                return {\n                    product\n                };\n            } catch (error) {\n                throw new Error(\"It is not possible create a new product\");\n            }\n        },\n        async deleteProduct (_parent, args, _context, _info) {\n            try {\n                await (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.DeleteProduct)({\n                    id: args.id\n                });\n                return true;\n            } catch (error) {\n                throw new Error(\"It is not possible delete the product\");\n            }\n        },\n        async updateProduct (_parent, args, _context, _info) {\n            try {\n                const product = await (0,_lib_product__WEBPACK_IMPORTED_MODULE_3__.UpdateProduct)(args.id, args.input);\n                return {\n                    product\n                };\n            } catch (error) {\n                throw new Error(\"it is not possible update the product\");\n            }\n        }\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUNkLE1BQU0sSUFBSU0sS0FBSyxDQUFDLHVDQUF1QyxDQUFDLENBQUM7WUFDM0QsQ0FBQztRQUNILENBQUM7S0FDRjtDQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWRicmlkZ2UvLi9hcG9sbG8vcmVzb2x2ZXJzLmpzPzY5MGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXV0aGVudGljYXRpb25FcnJvciwgVXNlcklucHV0RXJyb3IgfSBmcm9tICdhcG9sbG8tc2VydmVyLW1pY3JvJztcbmltcG9ydCB7IGNyZWF0ZVVzZXIsIGZpbmRVc2VyLCB2YWxpZGF0ZVBhc3N3b3JkIH0gZnJvbSAnLi4vbGliL3VzZXInO1xuaW1wb3J0IHsgbGlzdENhdGVnb3JpZXMgfSBmcm9tICcuLi9saWIvY2F0ZWdvcnknO1xuaW1wb3J0IHtcbiAgbGlzdFByb2R1Y3RzLFxuICBmaW5kUHJvZHVjdCxcbiAgQ3JlYXRlUHJvZHVjdCxcbiAgRGVsZXRlUHJvZHVjdCxcbiAgVXBkYXRlUHJvZHVjdCxcbiAgZmluZFByb2R1Y3RzQnlJZCxcbn0gZnJvbSAnLi4vbGliL3Byb2R1Y3QnO1xuaW1wb3J0IHsgc2V0TG9naW5TZXNzaW9uLCBnZXRMb2dpblNlc3Npb24gfSBmcm9tICcuLi9saWIvYXV0aCc7XG5pbXBvcnQgeyByZW1vdmVUb2tlbkNvb2tpZSB9IGZyb20gJy4uL2xpYi9hdXRoLWNvb2tpZXMnO1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZXJzID0ge1xuICBRdWVyeToge1xuICAgIGFzeW5jIHZpZXdlcihfcGFyZW50LCBfYXJncywgY29udGV4dCwgX2luZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRMb2dpblNlc3Npb24oY29udGV4dC5yZXEpO1xuXG4gICAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbmRVc2VyKHsgZW1haWw6IHNlc3Npb24uZW1haWwgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoZW50aWNhdGlvbkVycm9yKFxuICAgICAgICAgICdBdXRoZW50aWNhdGlvbiB0b2tlbiBpcyBpbnZhbGlkLCBwbGVhc2UgbG9nIGluJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgcHJvZHVjdHMoX3BhcmVudCwgYXJncywgX2NvbnRleHQsIF9pbmZvKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBTb3J0ICsgQ2F0ZWdvcnlcbiAgICAgICAgaWYgKGFyZ3Muc29ydCAmJiBhcmdzLmNhdGVnb3J5KVxuICAgICAgICAgIHJldHVybiBsaXN0UHJvZHVjdHMoeyBzb3J0OiBhcmdzLnNvcnQsIGNhdGVnb3J5OiBhcmdzLmNhdGVnb3J5IH0pO1xuICAgICAgICAvLyBTb3J0XG4gICAgICAgIGVsc2UgaWYgKGFyZ3Muc29ydCkgcmV0dXJuIGxpc3RQcm9kdWN0cyh7IHNvcnQ6IGFyZ3Muc29ydCB9KTtcbiAgICAgICAgLy8gQ2F0ZWdvcnlcbiAgICAgICAgZWxzZSBpZiAoYXJncy5jYXRlZ29yeSlcbiAgICAgICAgICByZXR1cm4gbGlzdFByb2R1Y3RzKHsgY2F0ZWdvcnk6IGFyZ3MuY2F0ZWdvcnkgfSk7XG4gICAgICAgIC8vIERlZmF1bHRcbiAgICAgICAgcmV0dXJuIGxpc3RQcm9kdWN0cyh7IHNvcnQ6IGZhbHNlLCBjYXRlZ29yeTogZmFsc2UgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0IGlzIG5vdCBwb3NzaWJsZSBsaXN0IHByb2R1Y3RzJyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBwcm9kdWN0c0J5SWQoX3BhcmVudCwgYXJncywgX2NvbnRleHQsIF9pbmZvKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgZmluZFByb2R1Y3RzQnlJZCh7IGlkOiBhcmdzLmlkIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBpcyBub3QgcG9zc2libGUgbGlzdCBwcm9kdWN0cycpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgcHJvZHVjdChfcGFyZW50LCBhcmdzLCBfY29udGV4dCwgX2luZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmaW5kUHJvZHVjdCh7IGlkOiBhcmdzLmlkIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBpcyBub3QgcG9zc2libGUgbGlzdCBwcm9kdWN0Jyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBjYXRlZ29yaWVzKF9wYXJlbnQsIF9hcmdzLCBfY29udGV4dCwgX2luZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBsaXN0Q2F0ZWdvcmllcygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJdCBpcyBub3QgcG9zc2libGUgbGlzdCBjYXRlZ29yaWVzJyk7XG4gICAgICB9XG4gICAgfSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBhc3luYyBzaWduVXAoX3BhcmVudCwgYXJncywgX2NvbnRleHQsIF9pbmZvKSB7XG4gICAgICBjb25zdCB1c2VyRXhpc3QgPSBhd2FpdCBmaW5kVXNlcih7IGVtYWlsOiBhcmdzLmlucHV0LmVtYWlsIH0pO1xuXG4gICAgICBpZiAodXNlckV4aXN0KVxuICAgICAgICB0aHJvdyBuZXcgVXNlcklucHV0RXJyb3IoJ2VtYWlsIGlzIGFscmVhZHkgaW4gdXNlLCB0cnkgdG8gbG9naW4nKTtcblxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNyZWF0ZVVzZXIoYXJncy5pbnB1dCk7XG4gICAgICByZXR1cm4geyB1c2VyIH07XG4gICAgfSxcbiAgICBhc3luYyBzaWduSW4oX3BhcmVudCwgYXJncywgY29udGV4dCwgX2luZm8pIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBmaW5kVXNlcih7IGVtYWlsOiBhcmdzLmlucHV0LmVtYWlsIH0pO1xuXG4gICAgICBpZiAodXNlciAmJiAoYXdhaXQgdmFsaWRhdGVQYXNzd29yZCh1c2VyLCBhcmdzLmlucHV0LnBhc3N3b3JkKSkpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHtcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgfTtcblxuICAgICAgICBhd2FpdCBzZXRMb2dpblNlc3Npb24oY29udGV4dC5yZXMsIHNlc3Npb24pO1xuXG4gICAgICAgIHJldHVybiB7IHVzZXIgfTtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IFVzZXJJbnB1dEVycm9yKCdJbnZhbGlkIGVtYWlsIGFuZCBwYXNzd29yZCBjb21iaW5hdGlvbicpO1xuICAgIH0sXG4gICAgYXN5bmMgc2lnbk91dChfcGFyZW50LCBfYXJncywgY29udGV4dCwgX2luZm8pIHtcbiAgICAgIHJlbW92ZVRva2VuQ29va2llKGNvbnRleHQucmVzKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgYXN5bmMgY3JlYXRlUHJvZHVjdChfcGFyZW50LCBhcmdzLCBfY29udGV4dCwgX2luZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBDcmVhdGVQcm9kdWN0KGFyZ3MuaW5wdXQpO1xuXG4gICAgICAgIHJldHVybiB7IHByb2R1Y3QgfTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSXQgaXMgbm90IHBvc3NpYmxlIGNyZWF0ZSBhIG5ldyBwcm9kdWN0Jyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBkZWxldGVQcm9kdWN0KF9wYXJlbnQsIGFyZ3MsIF9jb250ZXh0LCBfaW5mbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgRGVsZXRlUHJvZHVjdCh7IGlkOiBhcmdzLmlkIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSXQgaXMgbm90IHBvc3NpYmxlIGRlbGV0ZSB0aGUgcHJvZHVjdCcpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgdXBkYXRlUHJvZHVjdChfcGFyZW50LCBhcmdzLCBfY29udGV4dCwgX2luZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBVcGRhdGVQcm9kdWN0KGFyZ3MuaWQsIGFyZ3MuaW5wdXQpO1xuICAgICAgICByZXR1cm4geyBwcm9kdWN0IH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2l0IGlzIG5vdCBwb3NzaWJsZSB1cGRhdGUgdGhlIHByb2R1Y3QnKTtcbiAgICAgIH1cbiAgICB9LFxuICB9LFxufTtcbiJdLCJuYW1lcyI6WyJBdXRoZW50aWNhdGlvbkVycm9yIiwiVXNlcklucHV0RXJyb3IiLCJjcmVhdGVVc2VyIiwiZmluZFVzZXIiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwibGlzdENhdGVnb3JpZXMiLCJsaXN0UHJvZHVjdHMiLCJmaW5kUHJvZHVjdCIsIkNyZWF0ZVByb2R1Y3QiLCJEZWxldGVQcm9kdWN0IiwiVXBkYXRlUHJvZHVjdCIsImZpbmRQcm9kdWN0c0J5SWQiLCJzZXRMb2dpblNlc3Npb24iLCJnZXRMb2dpblNlc3Npb24iLCJyZW1vdmVUb2tlbkNvb2tpZSIsInJlc29sdmVycyIsIlF1ZXJ5Iiwidmlld2VyIiwiX3BhcmVudCIsIl9hcmdzIiwiY29udGV4dCIsIl9pbmZvIiwic2Vzc2lvbiIsInJlcSIsImVtYWlsIiwiZXJyb3IiLCJwcm9kdWN0cyIsImFyZ3MiLCJfY29udGV4dCIsInNvcnQiLCJjYXRlZ29yeSIsIkVycm9yIiwicHJvZHVjdHNCeUlkIiwiaWQiLCJwcm9kdWN0IiwiY2F0ZWdvcmllcyIsIk11dGF0aW9uIiwic2lnblVwIiwidXNlckV4aXN0IiwiaW5wdXQiLCJ1c2VyIiwic2lnbkluIiwicGFzc3dvcmQiLCJyZXMiLCJzaWduT3V0IiwiY3JlYXRlUHJvZHVjdCIsImRlbGV0ZVByb2R1Y3QiLCJ1cGRhdGVQcm9kdWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apollo/resolvers.js\n");

/***/ }),

/***/ "./apollo/schema.js":
/*!**************************!*\
  !*** ./apollo/schema.js ***!
  \**************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"schema\": () => (/* binding */ schema)\n/* harmony export */ });\n/* harmony import */ var graphql_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! graphql-tools */ \"graphql-tools\");\n/* harmony import */ var _typeDefs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./typeDefs */ \"./apollo/typeDefs.js\");\n/* harmony import */ var _resolvers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resolvers */ \"./apollo/resolvers.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([graphql_tools__WEBPACK_IMPORTED_MODULE_0__, _resolvers__WEBPACK_IMPORTED_MODULE_2__]);\n([graphql_tools__WEBPACK_IMPORTED_MODULE_0__, _resolvers__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\nconst schema = (0,graphql_tools__WEBPACK_IMPORTED_MODULE_0__.makeExecutableSchema)({\n    typeDefs: _typeDefs__WEBPACK_IMPORTED_MODULE_1__.typeDefs,\n    resolvers: _resolvers__WEBPACK_IMPORTED_MODULE_2__.resolvers\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcG9sbG8vc2NoZW1hLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUQ7QUFDZjtBQUNFO0FBRWpDLE1BQU1HLE1BQU0sR0FBR0gsbUVBQW9CLENBQUM7SUFDekNDLFFBQVE7SUFDUkMsU0FBUztDQUNWLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZGJyaWRnZS8uL2Fwb2xsby9zY2hlbWEuanM/MGU4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlRXhlY3V0YWJsZVNjaGVtYSB9IGZyb20gJ2dyYXBocWwtdG9vbHMnO1xuaW1wb3J0IHsgdHlwZURlZnMgfSBmcm9tICcuL3R5cGVEZWZzJztcbmltcG9ydCB7IHJlc29sdmVycyB9IGZyb20gJy4vcmVzb2x2ZXJzJztcblxuZXhwb3J0IGNvbnN0IHNjaGVtYSA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcbiAgdHlwZURlZnMsXG4gIHJlc29sdmVycyxcbn0pO1xuIl0sIm5hbWVzIjpbIm1ha2VFeGVjdXRhYmxlU2NoZW1hIiwidHlwZURlZnMiLCJyZXNvbHZlcnMiLCJzY2hlbWEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./apollo/schema.js\n");

/***/ }),

/***/ "./apollo/typeDefs.js":
/*!****************************!*\
  !*** ./apollo/typeDefs.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"typeDefs\": () => (/* binding */ typeDefs)\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n\nconst typeDefs = apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.gql`\n  type User {\n    id: ID!\n    name: String!\n    email: String!\n    createdAt: Int!\n  }\n  type Product {\n    id: ID!\n    name: String!\n    description: String!\n    img_url: String!\n    price: String!\n    rating: String!\n    createdAt: Int\n    updatedAt: Int\n    user_id: ID!\n  }\n  type Category {\n    id: ID!\n    name: String!\n    label: String!\n    md_icon: String!\n    createdAt: Int\n  }\n  input SignUpInput {\n    name: String!\n    email: String!\n    password: String!\n  }\n  input SignInInput {\n    email: String!\n    password: String!\n  }\n  input ProductInput {\n    name: String!\n    description: String!\n    img_url: String!\n    price: String!\n    rating: String!\n    category_id: Int!\n  }\n  input UpdateProductInput {\n    name: String!\n    description: String!\n    img_url: String!\n    price: String!\n    rating: String!\n  }\n  type SignUpPayload {\n    user: User!\n  }\n  type SignInPayload {\n    user: User!\n  }\n  type ProductPayload {\n    product: Product!\n  }\n  input Sort {\n    field: String!\n    order: String! = ASC\n  }\n\n  type Query {\n    user(id: ID!): User!\n    users: [User]!\n    viewer: User\n    products(sort: [Sort!], category: String): [Product]!\n    productsById(id: [ID]): [Product!]\n    product(id: ID!): Product\n    categories: [Category]!\n  }\n  type Mutation {\n    signUp(input: SignUpInput!): SignUpPayload!\n    signIn(input: SignInInput!): SignInPayload!\n    signOut: Boolean!\n    createProduct(input: ProductInput!): ProductPayload\n    deleteProduct(id: ID!): Boolean!\n    updateProduct(id: ID!, input: UpdateProductInput!): ProductPayload\n  }\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hcG9sbG8vdHlwZURlZnMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBDO0FBRW5DLE1BQU1DLFFBQVEsR0FBR0Qsb0RBQUcsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnRjVCLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZGJyaWRnZS8uL2Fwb2xsby90eXBlRGVmcy5qcz8xMWQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdxbCB9IGZyb20gJ2Fwb2xsby1zZXJ2ZXItbWljcm8nO1xuXG5leHBvcnQgY29uc3QgdHlwZURlZnMgPSBncWxgXG4gIHR5cGUgVXNlciB7XG4gICAgaWQ6IElEIVxuICAgIG5hbWU6IFN0cmluZyFcbiAgICBlbWFpbDogU3RyaW5nIVxuICAgIGNyZWF0ZWRBdDogSW50IVxuICB9XG4gIHR5cGUgUHJvZHVjdCB7XG4gICAgaWQ6IElEIVxuICAgIG5hbWU6IFN0cmluZyFcbiAgICBkZXNjcmlwdGlvbjogU3RyaW5nIVxuICAgIGltZ191cmw6IFN0cmluZyFcbiAgICBwcmljZTogU3RyaW5nIVxuICAgIHJhdGluZzogU3RyaW5nIVxuICAgIGNyZWF0ZWRBdDogSW50XG4gICAgdXBkYXRlZEF0OiBJbnRcbiAgICB1c2VyX2lkOiBJRCFcbiAgfVxuICB0eXBlIENhdGVnb3J5IHtcbiAgICBpZDogSUQhXG4gICAgbmFtZTogU3RyaW5nIVxuICAgIGxhYmVsOiBTdHJpbmchXG4gICAgbWRfaWNvbjogU3RyaW5nIVxuICAgIGNyZWF0ZWRBdDogSW50XG4gIH1cbiAgaW5wdXQgU2lnblVwSW5wdXQge1xuICAgIG5hbWU6IFN0cmluZyFcbiAgICBlbWFpbDogU3RyaW5nIVxuICAgIHBhc3N3b3JkOiBTdHJpbmchXG4gIH1cbiAgaW5wdXQgU2lnbkluSW5wdXQge1xuICAgIGVtYWlsOiBTdHJpbmchXG4gICAgcGFzc3dvcmQ6IFN0cmluZyFcbiAgfVxuICBpbnB1dCBQcm9kdWN0SW5wdXQge1xuICAgIG5hbWU6IFN0cmluZyFcbiAgICBkZXNjcmlwdGlvbjogU3RyaW5nIVxuICAgIGltZ191cmw6IFN0cmluZyFcbiAgICBwcmljZTogU3RyaW5nIVxuICAgIHJhdGluZzogU3RyaW5nIVxuICAgIGNhdGVnb3J5X2lkOiBJbnQhXG4gIH1cbiAgaW5wdXQgVXBkYXRlUHJvZHVjdElucHV0IHtcbiAgICBuYW1lOiBTdHJpbmchXG4gICAgZGVzY3JpcHRpb246IFN0cmluZyFcbiAgICBpbWdfdXJsOiBTdHJpbmchXG4gICAgcHJpY2U6IFN0cmluZyFcbiAgICByYXRpbmc6IFN0cmluZyFcbiAgfVxuICB0eXBlIFNpZ25VcFBheWxvYWQge1xuICAgIHVzZXI6IFVzZXIhXG4gIH1cbiAgdHlwZSBTaWduSW5QYXlsb2FkIHtcbiAgICB1c2VyOiBVc2VyIVxuICB9XG4gIHR5cGUgUHJvZHVjdFBheWxvYWQge1xuICAgIHByb2R1Y3Q6IFByb2R1Y3QhXG4gIH1cbiAgaW5wdXQgU29ydCB7XG4gICAgZmllbGQ6IFN0cmluZyFcbiAgICBvcmRlcjogU3RyaW5nISA9IEFTQ1xuICB9XG5cbiAgdHlwZSBRdWVyeSB7XG4gICAgdXNlcihpZDogSUQhKTogVXNlciFcbiAgICB1c2VyczogW1VzZXJdIVxuICAgIHZpZXdlcjogVXNlclxuICAgIHByb2R1Y3RzKHNvcnQ6IFtTb3J0IV0sIGNhdGVnb3J5OiBTdHJpbmcpOiBbUHJvZHVjdF0hXG4gICAgcHJvZHVjdHNCeUlkKGlkOiBbSURdKTogW1Byb2R1Y3QhXVxuICAgIHByb2R1Y3QoaWQ6IElEISk6IFByb2R1Y3RcbiAgICBjYXRlZ29yaWVzOiBbQ2F0ZWdvcnldIVxuICB9XG4gIHR5cGUgTXV0YXRpb24ge1xuICAgIHNpZ25VcChpbnB1dDogU2lnblVwSW5wdXQhKTogU2lnblVwUGF5bG9hZCFcbiAgICBzaWduSW4oaW5wdXQ6IFNpZ25JbklucHV0ISk6IFNpZ25JblBheWxvYWQhXG4gICAgc2lnbk91dDogQm9vbGVhbiFcbiAgICBjcmVhdGVQcm9kdWN0KGlucHV0OiBQcm9kdWN0SW5wdXQhKTogUHJvZHVjdFBheWxvYWRcbiAgICBkZWxldGVQcm9kdWN0KGlkOiBJRCEpOiBCb29sZWFuIVxuICAgIHVwZGF0ZVByb2R1Y3QoaWQ6IElEISwgaW5wdXQ6IFVwZGF0ZVByb2R1Y3RJbnB1dCEpOiBQcm9kdWN0UGF5bG9hZFxuICB9XG5gO1xuIl0sIm5hbWVzIjpbImdxbCIsInR5cGVEZWZzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./apollo/typeDefs.js\n");

/***/ }),

/***/ "./db/connection.js":
/*!**************************!*\
  !*** ./db/connection.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connection\": () => (/* binding */ connection)\n/* harmony export */ });\nconst knex = __webpack_require__(/*! knex */ \"knex\");\nconst configuration = __webpack_require__(/*! ../knexfile */ \"./knexfile.js\");\nlet config;\nif (false) {}\nif (true) config = configuration.development;\nif (false) {}\nconst connection = knex(config);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kYi9jb25uZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLG1CQUFPLENBQUMsa0JBQU0sQ0FBQztBQUM1QixNQUFNQyxhQUFhLEdBQUdELG1CQUFPLENBQUMsa0NBQWEsQ0FBQztBQUU1QyxJQUFJRSxNQUFNO0FBRVYsSUFBSUMsS0FBK0IsRUFBRUQsRUFBNEI7QUFDakUsSUFBSUMsSUFBc0MsRUFBRUQsTUFBTSxHQUFHRCxhQUFhLENBQUNJLFdBQVcsQ0FBQztBQUMvRSxJQUFJRixLQUFxQyxFQUFFRCxFQUFrQztBQUV0RSxNQUFNSyxVQUFVLEdBQUdSLElBQUksQ0FBQ0csTUFBTSxDQUFDLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWRicmlkZ2UvLi9kYi9jb25uZWN0aW9uLmpzP2RkOTAiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qga25leCA9IHJlcXVpcmUoJ2tuZXgnKTtcbmNvbnN0IGNvbmZpZ3VyYXRpb24gPSByZXF1aXJlKCcuLi9rbmV4ZmlsZScpO1xuXG5sZXQgY29uZmlnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0JykgY29uZmlnID0gY29uZmlndXJhdGlvbi50ZXN0O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSBjb25maWcgPSBjb25maWd1cmF0aW9uLmRldmVsb3BtZW50O1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIGNvbmZpZyA9IGNvbmZpZ3VyYXRpb24ucHJvZHVjdGlvbjtcblxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb24gPSBrbmV4KGNvbmZpZyk7XG4iXSwibmFtZXMiOlsia25leCIsInJlcXVpcmUiLCJjb25maWd1cmF0aW9uIiwiY29uZmlnIiwicHJvY2VzcyIsInRlc3QiLCJkZXZlbG9wbWVudCIsInByb2R1Y3Rpb24iLCJjb25uZWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./db/connection.js\n");

/***/ }),

/***/ "./knexfile.js":
/*!*********************!*\
  !*** ./knexfile.js ***!
  \*********************/
/***/ ((module) => {

"use strict";
eval("\nmodule.exports = {\n    development: {\n        client: \"sqlite3\",\n        connection: {\n            filename: \"./db/db.sqlite\"\n        },\n        migrations: {\n            directory: \"./db/migrations\"\n        },\n        seeds: {\n            directory: \"./db/seeds\"\n        },\n        useNullAsDefault: true\n    },\n    test: {\n        client: \"sqlite3\",\n        connection: {\n            filename: \"./db/test.sqlite\"\n        },\n        migrations: {\n            directory: \"./db/migrations\"\n        },\n        useNullAsDefault: true\n    },\n    production: {\n        client: \"mysql\",\n        connection: {\n            host: \"127.0.0.1\",\n            user: \"your_database_user\",\n            password: \"your_database_password\",\n            database: \"myapp_test\"\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9rbmV4ZmlsZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQUE7QUFBQUEsTUFBTSxDQUFDQyxPQUFPLEdBQUc7SUFDZkMsV0FBVyxFQUFFO1FBQ1hDLE1BQU0sRUFBRSxTQUFTO1FBQ2pCQyxVQUFVLEVBQUU7WUFDVkMsUUFBUSxFQUFFLGdCQUFnQjtTQUMzQjtRQUNEQyxVQUFVLEVBQUU7WUFDVkMsU0FBUyxFQUFFLGlCQUFpQjtTQUM3QjtRQUNEQyxLQUFLLEVBQUU7WUFDTEQsU0FBUyxFQUFFLFlBQVk7U0FDeEI7UUFDREUsZ0JBQWdCLEVBQUUsSUFBSTtLQUN2QjtJQUNEQyxJQUFJLEVBQUU7UUFDSlAsTUFBTSxFQUFFLFNBQVM7UUFDakJDLFVBQVUsRUFBRTtZQUNWQyxRQUFRLEVBQUUsa0JBQWtCO1NBQzdCO1FBQ0RDLFVBQVUsRUFBRTtZQUNWQyxTQUFTLEVBQUUsaUJBQWlCO1NBQzdCO1FBQ0RFLGdCQUFnQixFQUFFLElBQUk7S0FDdkI7SUFDREUsVUFBVSxFQUFFO1FBQ1ZSLE1BQU0sRUFBRSxPQUFPO1FBQ2ZDLFVBQVUsRUFBRTtZQUNWUSxJQUFJLEVBQUUsV0FBVztZQUNqQkMsSUFBSSxFQUFFLG9CQUFvQjtZQUMxQkMsUUFBUSxFQUFFLHdCQUF3QjtZQUNsQ0MsUUFBUSxFQUFFLFlBQVk7U0FDdkI7S0FDRjtDQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWRicmlkZ2UvLi9rbmV4ZmlsZS5qcz8yMzMxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXZlbG9wbWVudDoge1xuICAgIGNsaWVudDogJ3NxbGl0ZTMnLFxuICAgIGNvbm5lY3Rpb246IHtcbiAgICAgIGZpbGVuYW1lOiAnLi9kYi9kYi5zcWxpdGUnLFxuICAgIH0sXG4gICAgbWlncmF0aW9uczoge1xuICAgICAgZGlyZWN0b3J5OiAnLi9kYi9taWdyYXRpb25zJyxcbiAgICB9LFxuICAgIHNlZWRzOiB7XG4gICAgICBkaXJlY3Rvcnk6ICcuL2RiL3NlZWRzJyxcbiAgICB9LFxuICAgIHVzZU51bGxBc0RlZmF1bHQ6IHRydWUsXG4gIH0sXG4gIHRlc3Q6IHtcbiAgICBjbGllbnQ6ICdzcWxpdGUzJyxcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICBmaWxlbmFtZTogJy4vZGIvdGVzdC5zcWxpdGUnLFxuICAgIH0sXG4gICAgbWlncmF0aW9uczoge1xuICAgICAgZGlyZWN0b3J5OiAnLi9kYi9taWdyYXRpb25zJyxcbiAgICB9LFxuICAgIHVzZU51bGxBc0RlZmF1bHQ6IHRydWUsXG4gIH0sXG4gIHByb2R1Y3Rpb246IHtcbiAgICBjbGllbnQ6ICdteXNxbCcsXG4gICAgY29ubmVjdGlvbjoge1xuICAgICAgaG9zdDogJzEyNy4wLjAuMScsXG4gICAgICB1c2VyOiAneW91cl9kYXRhYmFzZV91c2VyJyxcbiAgICAgIHBhc3N3b3JkOiAneW91cl9kYXRhYmFzZV9wYXNzd29yZCcsXG4gICAgICBkYXRhYmFzZTogJ215YXBwX3Rlc3QnLFxuICAgIH0sXG4gIH0sXG59O1xuIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJkZXZlbG9wbWVudCIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJmaWxlbmFtZSIsIm1pZ3JhdGlvbnMiLCJkaXJlY3RvcnkiLCJzZWVkcyIsInVzZU51bGxBc0RlZmF1bHQiLCJ0ZXN0IiwicHJvZHVjdGlvbiIsImhvc3QiLCJ1c2VyIiwicGFzc3dvcmQiLCJkYXRhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./knexfile.js\n");

/***/ }),

/***/ "./lib/auth-cookies.js":
/*!*****************************!*\
  !*** ./lib/auth-cookies.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAX_AGE\": () => (/* binding */ MAX_AGE),\n/* harmony export */   \"getTokenCookie\": () => (/* binding */ getTokenCookie),\n/* harmony export */   \"parseCookies\": () => (/* binding */ parseCookies),\n/* harmony export */   \"removeTokenCookie\": () => (/* binding */ removeTokenCookie),\n/* harmony export */   \"setTokenCookie\": () => (/* binding */ setTokenCookie)\n/* harmony export */ });\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_0__);\n\nconst TOKEN_NAME = \"token\";\nconst MAX_AGE = 60 * 60 * 8; // 8 hours\nfunction setTokenCookie(res, token) {\n    const cookie = (0,cookie__WEBPACK_IMPORTED_MODULE_0__.serialize)(TOKEN_NAME, token, {\n        maxAge: MAX_AGE,\n        expires: new Date(Date.now() + MAX_AGE * 1000),\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        path: \"/\",\n        sameSite: \"lax\"\n    });\n    res.setHeader(\"Set-Cookie\", cookie);\n}\nfunction removeTokenCookie(res) {\n    const cookie = (0,cookie__WEBPACK_IMPORTED_MODULE_0__.serialize)(TOKEN_NAME, \"\", {\n        maxAge: -1,\n        path: \"/\"\n    });\n    res.setHeader(\"Set-Cookie\", cookie);\n}\nfunction parseCookies(req) {\n    // For API Routes we don't need to parse the cookies.\n    if (req.cookies) return req.cookies;\n    // For pages we do need to parse the cookies.\n    const cookie = req.headers?.cookie;\n    return (0,cookie__WEBPACK_IMPORTED_MODULE_0__.parse)(cookie || \"\");\n}\nfunction getTokenCookie(req) {\n    const cookies = parseCookies(req);\n    return cookies[TOKEN_NAME];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYXV0aC1jb29raWVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEM7QUFFMUMsTUFBTUUsVUFBVSxHQUFHLE9BQU87QUFFbkIsTUFBTUMsT0FBTyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsVUFBVTtBQUV2QyxTQUFTQyxjQUFjLENBQUNDLEdBQUcsRUFBRUMsS0FBSyxFQUFFO0lBQ3pDLE1BQU1DLE1BQU0sR0FBR1AsaURBQVMsQ0FBQ0UsVUFBVSxFQUFFSSxLQUFLLEVBQUU7UUFDMUNFLE1BQU0sRUFBRUwsT0FBTztRQUNmTSxPQUFPLEVBQUUsSUFBSUMsSUFBSSxDQUFDQSxJQUFJLENBQUNDLEdBQUcsRUFBRSxHQUFHUixPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQzlDUyxRQUFRLEVBQUUsSUFBSTtRQUNkQyxNQUFNLEVBQUVDLGFBWEMsS0FXd0IsWUFBWTtRQUM3Q0MsSUFBSSxFQUFFLEdBQUc7UUFDVEMsUUFBUSxFQUFFLEtBQUs7S0FDaEIsQ0FBQztJQUVGWCxHQUFHLENBQUNZLFNBQVMsQ0FBQyxZQUFZLEVBQUVWLE1BQU0sQ0FBQyxDQUFDO0FBQ3RDLENBQUM7QUFFTSxTQUFTVyxpQkFBaUIsQ0FBQ2IsR0FBRyxFQUFFO0lBQ3JDLE1BQU1FLE1BQU0sR0FBR1AsaURBQVMsQ0FBQ0UsVUFBVSxFQUFFLEVBQUUsRUFBRTtRQUN2Q00sTUFBTSxFQUFFLENBQUMsQ0FBQztRQUNWTyxJQUFJLEVBQUUsR0FBRztLQUNWLENBQUM7SUFFRlYsR0FBRyxDQUFDWSxTQUFTLENBQUMsWUFBWSxFQUFFVixNQUFNLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBRU0sU0FBU1ksWUFBWSxDQUFDQyxHQUFHLEVBQUU7SUFDaEMscURBQXFEO0lBQ3JELElBQUlBLEdBQUcsQ0FBQ0MsT0FBTyxFQUFFLE9BQU9ELEdBQUcsQ0FBQ0MsT0FBTyxDQUFDO0lBRXBDLDZDQUE2QztJQUM3QyxNQUFNZCxNQUFNLEdBQUdhLEdBQUcsQ0FBQ0UsT0FBTyxFQUFFZixNQUFNO0lBQ2xDLE9BQU9OLDZDQUFLLENBQUNNLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQztBQUM3QixDQUFDO0FBRU0sU0FBU2dCLGNBQWMsQ0FBQ0gsR0FBRyxFQUFFO0lBQ2xDLE1BQU1DLE9BQU8sR0FBR0YsWUFBWSxDQUFDQyxHQUFHLENBQUM7SUFDakMsT0FBT0MsT0FBTyxDQUFDbkIsVUFBVSxDQUFDLENBQUM7QUFDN0IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZGJyaWRnZS8uL2xpYi9hdXRoLWNvb2tpZXMuanM/NzNiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXJpYWxpemUsIHBhcnNlIH0gZnJvbSAnY29va2llJztcblxuY29uc3QgVE9LRU5fTkFNRSA9ICd0b2tlbic7XG5cbmV4cG9ydCBjb25zdCBNQVhfQUdFID0gNjAgKiA2MCAqIDg7IC8vIDggaG91cnNcblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRva2VuQ29va2llKHJlcywgdG9rZW4pIHtcbiAgY29uc3QgY29va2llID0gc2VyaWFsaXplKFRPS0VOX05BTUUsIHRva2VuLCB7XG4gICAgbWF4QWdlOiBNQVhfQUdFLFxuICAgIGV4cGlyZXM6IG5ldyBEYXRlKERhdGUubm93KCkgKyBNQVhfQUdFICogMTAwMCksXG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgIHBhdGg6ICcvJyxcbiAgICBzYW1lU2l0ZTogJ2xheCcsXG4gIH0pO1xuXG4gIHJlcy5zZXRIZWFkZXIoJ1NldC1Db29raWUnLCBjb29raWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVG9rZW5Db29raWUocmVzKSB7XG4gIGNvbnN0IGNvb2tpZSA9IHNlcmlhbGl6ZShUT0tFTl9OQU1FLCAnJywge1xuICAgIG1heEFnZTogLTEsXG4gICAgcGF0aDogJy8nLFxuICB9KTtcblxuICByZXMuc2V0SGVhZGVyKCdTZXQtQ29va2llJywgY29va2llKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ29va2llcyhyZXEpIHtcbiAgLy8gRm9yIEFQSSBSb3V0ZXMgd2UgZG9uJ3QgbmVlZCB0byBwYXJzZSB0aGUgY29va2llcy5cbiAgaWYgKHJlcS5jb29raWVzKSByZXR1cm4gcmVxLmNvb2tpZXM7XG5cbiAgLy8gRm9yIHBhZ2VzIHdlIGRvIG5lZWQgdG8gcGFyc2UgdGhlIGNvb2tpZXMuXG4gIGNvbnN0IGNvb2tpZSA9IHJlcS5oZWFkZXJzPy5jb29raWU7XG4gIHJldHVybiBwYXJzZShjb29raWUgfHwgJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9rZW5Db29raWUocmVxKSB7XG4gIGNvbnN0IGNvb2tpZXMgPSBwYXJzZUNvb2tpZXMocmVxKTtcbiAgcmV0dXJuIGNvb2tpZXNbVE9LRU5fTkFNRV07XG59XG4iXSwibmFtZXMiOlsic2VyaWFsaXplIiwicGFyc2UiLCJUT0tFTl9OQU1FIiwiTUFYX0FHRSIsInNldFRva2VuQ29va2llIiwicmVzIiwidG9rZW4iLCJjb29raWUiLCJtYXhBZ2UiLCJleHBpcmVzIiwiRGF0ZSIsIm5vdyIsImh0dHBPbmx5Iiwic2VjdXJlIiwicHJvY2VzcyIsInBhdGgiLCJzYW1lU2l0ZSIsInNldEhlYWRlciIsInJlbW92ZVRva2VuQ29va2llIiwicGFyc2VDb29raWVzIiwicmVxIiwiY29va2llcyIsImhlYWRlcnMiLCJnZXRUb2tlbkNvb2tpZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/auth-cookies.js\n");

/***/ }),

/***/ "./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getLoginSession\": () => (/* binding */ getLoginSession),\n/* harmony export */   \"setLoginSession\": () => (/* binding */ setLoginSession)\n/* harmony export */ });\n/* harmony import */ var _hapi_iron__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @hapi/iron */ \"@hapi/iron\");\n/* harmony import */ var _hapi_iron__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_hapi_iron__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _auth_cookies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth-cookies */ \"./lib/auth-cookies.js\");\n\n\nconst TOKEN_SECRET = process.env.TOKEN_SECRET;\nasync function setLoginSession(res, session) {\n    const createdAt = Date.now();\n    // Create a session object with a max age that we can validate later\n    const obj = {\n        ...session,\n        createdAt,\n        maxAge: _auth_cookies__WEBPACK_IMPORTED_MODULE_1__.MAX_AGE\n    };\n    const token = await _hapi_iron__WEBPACK_IMPORTED_MODULE_0___default().seal(obj, TOKEN_SECRET, (_hapi_iron__WEBPACK_IMPORTED_MODULE_0___default().defaults));\n    (0,_auth_cookies__WEBPACK_IMPORTED_MODULE_1__.setTokenCookie)(res, token);\n}\nasync function getLoginSession(req) {\n    const token = (0,_auth_cookies__WEBPACK_IMPORTED_MODULE_1__.getTokenCookie)(req);\n    if (!token) return;\n    const session = await _hapi_iron__WEBPACK_IMPORTED_MODULE_0___default().unseal(token, TOKEN_SECRET, (_hapi_iron__WEBPACK_IMPORTED_MODULE_0___default().defaults));\n    const expiresAt = session.createdAt + session.maxAge * 1000;\n    // Validate the expiration date of the session\n    if (Date.now() < expiresAt) {\n        return session;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvYXV0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4QjtBQUMyQztBQUV6RSxNQUFNSSxZQUFZLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixZQUFZO0FBRXRDLGVBQWVHLGVBQWUsQ0FBQ0MsR0FBRyxFQUFFQyxPQUFPLEVBQUU7SUFDbEQsTUFBTUMsU0FBUyxHQUFHQyxJQUFJLENBQUNDLEdBQUcsRUFBRTtJQUM1QixvRUFBb0U7SUFDcEUsTUFBTUMsR0FBRyxHQUFHO1FBQUUsR0FBR0osT0FBTztRQUFFQyxTQUFTO1FBQUVJLE1BQU0sRUFBRWIsa0RBQU87S0FBRTtJQUN0RCxNQUFNYyxLQUFLLEdBQUcsTUFBTWYsc0RBQVMsQ0FBQ2EsR0FBRyxFQUFFVCxZQUFZLEVBQUVKLDREQUFhLENBQUM7SUFFL0RFLDZEQUFjLENBQUNNLEdBQUcsRUFBRU8sS0FBSyxDQUFDLENBQUM7QUFDN0IsQ0FBQztBQUVNLGVBQWVHLGVBQWUsQ0FBQ0MsR0FBRyxFQUFFO0lBQ3pDLE1BQU1KLEtBQUssR0FBR1osNkRBQWMsQ0FBQ2dCLEdBQUcsQ0FBQztJQUVqQyxJQUFJLENBQUNKLEtBQUssRUFBRSxPQUFPO0lBRW5CLE1BQU1OLE9BQU8sR0FBRyxNQUFNVCx3REFBVyxDQUFDZSxLQUFLLEVBQUVYLFlBQVksRUFBRUosNERBQWEsQ0FBQztJQUNyRSxNQUFNcUIsU0FBUyxHQUFHWixPQUFPLENBQUNDLFNBQVMsR0FBR0QsT0FBTyxDQUFDSyxNQUFNLEdBQUcsSUFBSTtJQUUzRCw4Q0FBOEM7SUFDOUMsSUFBSUgsSUFBSSxDQUFDQyxHQUFHLEVBQUUsR0FBR1MsU0FBUyxFQUFFO1FBQzFCLE9BQU9aLE9BQU8sQ0FBQztJQUNqQixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZGJyaWRnZS8uL2xpYi9hdXRoLmpzPzI4N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IElyb24gZnJvbSAnQGhhcGkvaXJvbic7XG5pbXBvcnQgeyBNQVhfQUdFLCBzZXRUb2tlbkNvb2tpZSwgZ2V0VG9rZW5Db29raWUgfSBmcm9tICcuL2F1dGgtY29va2llcyc7XG5cbmNvbnN0IFRPS0VOX1NFQ1JFVCA9IHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldExvZ2luU2Vzc2lvbihyZXMsIHNlc3Npb24pIHtcbiAgY29uc3QgY3JlYXRlZEF0ID0gRGF0ZS5ub3coKTtcbiAgLy8gQ3JlYXRlIGEgc2Vzc2lvbiBvYmplY3Qgd2l0aCBhIG1heCBhZ2UgdGhhdCB3ZSBjYW4gdmFsaWRhdGUgbGF0ZXJcbiAgY29uc3Qgb2JqID0geyAuLi5zZXNzaW9uLCBjcmVhdGVkQXQsIG1heEFnZTogTUFYX0FHRSB9O1xuICBjb25zdCB0b2tlbiA9IGF3YWl0IElyb24uc2VhbChvYmosIFRPS0VOX1NFQ1JFVCwgSXJvbi5kZWZhdWx0cyk7XG5cbiAgc2V0VG9rZW5Db29raWUocmVzLCB0b2tlbik7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMb2dpblNlc3Npb24ocmVxKSB7XG4gIGNvbnN0IHRva2VuID0gZ2V0VG9rZW5Db29raWUocmVxKTtcblxuICBpZiAoIXRva2VuKSByZXR1cm47XG5cbiAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IElyb24udW5zZWFsKHRva2VuLCBUT0tFTl9TRUNSRVQsIElyb24uZGVmYXVsdHMpO1xuICBjb25zdCBleHBpcmVzQXQgPSBzZXNzaW9uLmNyZWF0ZWRBdCArIHNlc3Npb24ubWF4QWdlICogMTAwMDtcblxuICAvLyBWYWxpZGF0ZSB0aGUgZXhwaXJhdGlvbiBkYXRlIG9mIHRoZSBzZXNzaW9uXG4gIGlmIChEYXRlLm5vdygpIDwgZXhwaXJlc0F0KSB7XG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJJcm9uIiwiTUFYX0FHRSIsInNldFRva2VuQ29va2llIiwiZ2V0VG9rZW5Db29raWUiLCJUT0tFTl9TRUNSRVQiLCJwcm9jZXNzIiwiZW52Iiwic2V0TG9naW5TZXNzaW9uIiwicmVzIiwic2Vzc2lvbiIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJvYmoiLCJtYXhBZ2UiLCJ0b2tlbiIsInNlYWwiLCJkZWZhdWx0cyIsImdldExvZ2luU2Vzc2lvbiIsInJlcSIsInVuc2VhbCIsImV4cGlyZXNBdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/auth.js\n");

/***/ }),

/***/ "./lib/category.js":
/*!*************************!*\
  !*** ./lib/category.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"listCategories\": () => (/* binding */ listCategories)\n/* harmony export */ });\n/* harmony import */ var _db_connection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/connection */ \"./db/connection.js\");\n\nasync function listCategories() {\n    const categories = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"category\");\n    return categories;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvY2F0ZWdvcnkuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBOEM7QUFFdkMsZUFBZUMsY0FBYyxHQUFHO0lBQ3JDLE1BQU1DLFVBQVUsR0FBRyxNQUFNRiwwREFBVSxDQUFDLFVBQVUsQ0FBQztJQUUvQyxPQUFPRSxVQUFVLENBQUM7QUFDcEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21lZGJyaWRnZS8uL2xpYi9jYXRlZ29yeS5qcz9jODk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbm5lY3Rpb24gfSBmcm9tICcuLi9kYi9jb25uZWN0aW9uJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RDYXRlZ29yaWVzKCkge1xuICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgY29ubmVjdGlvbignY2F0ZWdvcnknKTtcblxuICByZXR1cm4gY2F0ZWdvcmllcztcbn1cbiJdLCJuYW1lcyI6WyJjb25uZWN0aW9uIiwibGlzdENhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/category.js\n");

/***/ }),

/***/ "./lib/product.js":
/*!************************!*\
  !*** ./lib/product.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CreateProduct\": () => (/* binding */ CreateProduct),\n/* harmony export */   \"DeleteProduct\": () => (/* binding */ DeleteProduct),\n/* harmony export */   \"UpdateProduct\": () => (/* binding */ UpdateProduct),\n/* harmony export */   \"findProduct\": () => (/* binding */ findProduct),\n/* harmony export */   \"findProductsById\": () => (/* binding */ findProductsById),\n/* harmony export */   \"listProducts\": () => (/* binding */ listProducts)\n/* harmony export */ });\n/* harmony import */ var _db_connection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../db/connection */ \"./db/connection.js\");\n\nasync function listProducts({ sort , category  }) {\n    if (sort && category) {\n        // Sort + Category\n        const sortParsed = JSON.parse(JSON.stringify(sort[0]));\n        const { field , order  } = sortParsed;\n        const products = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\").join(\"product_category\", \"product.id\", \"=\", \"product_category.product_id\").join(\"category\", \"category.id\", \"=\", \"product_category.category_id\").where(\"category.name\", category).select(\"product.*\").orderBy(field, order);\n        return products;\n    } else if (sort) {\n        // Sort\n        const sortParsed1 = JSON.parse(JSON.stringify(sort[0]));\n        const { field: field1 , order: order1  } = sortParsed1;\n        const products1 = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\").orderBy(field1, order1);\n        return products1;\n    } else if (category) {\n        // Category\n        const products2 = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\").join(\"product_category\", \"product.id\", \"=\", \"product_category.product_id\").join(\"category\", \"category.id\", \"=\", \"product_category.category_id\").where(\"category.name\", category).select(\"product.*\");\n        return products2;\n    }\n    // Default\n    const products3 = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\");\n    return products3;\n}\nasync function findProduct({ id  }) {\n    const product = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\").whereRaw(\"id = ?\", [\n        id\n    ]).first();\n    return product;\n}\nasync function findProductsById({ id  }) {\n    if (id) {\n        const products = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\").where((builder)=>builder.whereIn(\"id\", id));\n        return products;\n    }\n    return;\n}\nasync function CreateProduct(input) {\n    const newProduct = {\n        name: input.name,\n        description: input.description,\n        img_url: input.img_url,\n        price: parseFloat(input.price),\n        rating: parseFloat(input.rating),\n        created_at: Date.now(),\n        updated_at: Date.now(),\n        user_id: \"1\"\n    };\n    const trx = await _db_connection__WEBPACK_IMPORTED_MODULE_0__.connection.transaction();\n    try {\n        const insertedProductId = await trx(\"product\").insert(newProduct);\n        const product_id = insertedProductId[0];\n        await trx(\"product_category\").insert({\n            product_id,\n            category_id: input.category_id\n        });\n        await trx.commit();\n        const createdProduct = await findProduct({\n            id: product_id\n        });\n        return createdProduct;\n    } catch (error) {\n        await trx.rollback();\n        throw new Error(\"Server side error to create a new product\");\n    }\n}\nasync function DeleteProduct({ id  }) {\n    await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\").whereRaw(\"id = ?\", [\n        id\n    ]).del();\n    return true;\n}\nasync function UpdateProduct(id, input) {\n    const newProduct = {\n        name: input.name,\n        description: input.description,\n        img_url: input.img_url,\n        price: parseFloat(input.price),\n        rating: parseFloat(input.rating),\n        updated_at: Date.now()\n    };\n    const updatedProduct = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_0__.connection)(\"product\").whereRaw(\"id = ?\", [\n        id\n    ]).update(newProduct);\n    const product = await findProduct({\n        id: updatedProduct\n    });\n    return product;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLEVBQUU7SUFDMUMsTUFBTWhCLDBEQUFVLENBQUMsU0FBUyxDQUFDLENBQUNrQixRQUFRLENBQUMsUUFBUSxFQUFFO1FBQUNGLEVBQUU7S0FBQyxDQUFDLENBQUNpQyxHQUFHLEVBQUUsQ0FBQztJQUUzRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFFTSxlQUFlQyxhQUFhLENBQUNsQyxFQUFFLEVBQUVRLEtBQUssRUFBRTtJQUM3QyxNQUFNQyxVQUFVLEdBQUc7UUFDakJDLElBQUksRUFBRUYsS0FBSyxDQUFDRSxJQUFJO1FBQ2hCQyxXQUFXLEVBQUVILEtBQUssQ0FBQ0csV0FBVztRQUM5QkMsT0FBTyxFQUFFSixLQUFLLENBQUNJLE9BQU87UUFDdEJDLEtBQUssRUFBRUMsVUFBVSxDQUFDTixLQUFLLENBQUNLLEtBQUssQ0FBQztRQUM5QkUsTUFBTSxFQUFFRCxVQUFVLENBQUNOLEtBQUssQ0FBQ08sTUFBTSxDQUFDO1FBQ2hDSSxVQUFVLEVBQUVGLElBQUksQ0FBQ0MsR0FBRyxFQUFFO0tBQ3ZCO0lBQ0QsTUFBTWlCLGNBQWMsR0FBRyxNQUFNbkQsMERBQVUsQ0FBQyxTQUFTLENBQUMsQ0FDL0NrQixRQUFRLENBQUMsUUFBUSxFQUFFO1FBQUNGLEVBQUU7S0FBQyxDQUFDLENBQ3hCb0MsTUFBTSxDQUFDM0IsVUFBVSxDQUFDO0lBRXJCLE1BQU1SLE9BQU8sR0FBRyxNQUFNRixXQUFXLENBQUM7UUFBRUMsRUFBRSxFQUFFbUMsY0FBYztLQUFFLENBQUM7SUFFekQsT0FBT2xDLE9BQU8sQ0FBQztBQUNqQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkYnJpZGdlLy4vbGliL3Byb2R1Y3QuanM/ODg1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25uZWN0aW9uIH0gZnJvbSAnLi4vZGIvY29ubmVjdGlvbic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0UHJvZHVjdHMoeyBzb3J0LCBjYXRlZ29yeSB9KSB7XG4gIGlmIChzb3J0ICYmIGNhdGVnb3J5KSB7XG4gICAgLy8gU29ydCArIENhdGVnb3J5XG4gICAgY29uc3Qgc29ydFBhcnNlZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc29ydFswXSkpO1xuICAgIGNvbnN0IHsgZmllbGQsIG9yZGVyIH0gPSBzb3J0UGFyc2VkO1xuXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBjb25uZWN0aW9uKCdwcm9kdWN0JylcbiAgICAgIC5qb2luKFxuICAgICAgICAncHJvZHVjdF9jYXRlZ29yeScsXG4gICAgICAgICdwcm9kdWN0LmlkJyxcbiAgICAgICAgJz0nLFxuICAgICAgICAncHJvZHVjdF9jYXRlZ29yeS5wcm9kdWN0X2lkJ1xuICAgICAgKVxuICAgICAgLmpvaW4oJ2NhdGVnb3J5JywgJ2NhdGVnb3J5LmlkJywgJz0nLCAncHJvZHVjdF9jYXRlZ29yeS5jYXRlZ29yeV9pZCcpXG4gICAgICAud2hlcmUoJ2NhdGVnb3J5Lm5hbWUnLCBjYXRlZ29yeSlcbiAgICAgIC5zZWxlY3QoJ3Byb2R1Y3QuKicpXG4gICAgICAub3JkZXJCeShmaWVsZCwgb3JkZXIpO1xuXG4gICAgcmV0dXJuIHByb2R1Y3RzO1xuICB9IGVsc2UgaWYgKHNvcnQpIHtcbiAgICAvLyBTb3J0XG4gICAgY29uc3Qgc29ydFBhcnNlZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc29ydFswXSkpO1xuICAgIGNvbnN0IHsgZmllbGQsIG9yZGVyIH0gPSBzb3J0UGFyc2VkO1xuXG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBjb25uZWN0aW9uKCdwcm9kdWN0Jykub3JkZXJCeShmaWVsZCwgb3JkZXIpO1xuICAgIHJldHVybiBwcm9kdWN0cztcbiAgfSBlbHNlIGlmIChjYXRlZ29yeSkge1xuICAgIC8vIENhdGVnb3J5XG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBjb25uZWN0aW9uKCdwcm9kdWN0JylcbiAgICAgIC5qb2luKFxuICAgICAgICAncHJvZHVjdF9jYXRlZ29yeScsXG4gICAgICAgICdwcm9kdWN0LmlkJyxcbiAgICAgICAgJz0nLFxuICAgICAgICAncHJvZHVjdF9jYXRlZ29yeS5wcm9kdWN0X2lkJ1xuICAgICAgKVxuICAgICAgLmpvaW4oJ2NhdGVnb3J5JywgJ2NhdGVnb3J5LmlkJywgJz0nLCAncHJvZHVjdF9jYXRlZ29yeS5jYXRlZ29yeV9pZCcpXG4gICAgICAud2hlcmUoJ2NhdGVnb3J5Lm5hbWUnLCBjYXRlZ29yeSlcbiAgICAgIC5zZWxlY3QoJ3Byb2R1Y3QuKicpO1xuXG4gICAgcmV0dXJuIHByb2R1Y3RzO1xuICB9XG4gIC8vIERlZmF1bHRcbiAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBjb25uZWN0aW9uKCdwcm9kdWN0Jyk7XG4gIHJldHVybiBwcm9kdWN0cztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRQcm9kdWN0KHsgaWQgfSkge1xuICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgY29ubmVjdGlvbigncHJvZHVjdCcpLndoZXJlUmF3KCdpZCA9ID8nLCBbaWRdKS5maXJzdCgpO1xuXG4gIHJldHVybiBwcm9kdWN0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFByb2R1Y3RzQnlJZCh7IGlkIH0pIHtcbiAgaWYgKGlkKSB7XG4gICAgY29uc3QgcHJvZHVjdHMgPSBhd2FpdCBjb25uZWN0aW9uKCdwcm9kdWN0Jykud2hlcmUoKGJ1aWxkZXIpID0+XG4gICAgICBidWlsZGVyLndoZXJlSW4oJ2lkJywgaWQpXG4gICAgKTtcbiAgICByZXR1cm4gcHJvZHVjdHM7XG4gIH1cbiAgcmV0dXJuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQ3JlYXRlUHJvZHVjdChpbnB1dCkge1xuICBjb25zdCBuZXdQcm9kdWN0ID0ge1xuICAgIG5hbWU6IGlucHV0Lm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGlucHV0LmRlc2NyaXB0aW9uLFxuICAgIGltZ191cmw6IGlucHV0LmltZ191cmwsXG4gICAgcHJpY2U6IHBhcnNlRmxvYXQoaW5wdXQucHJpY2UpLFxuICAgIHJhdGluZzogcGFyc2VGbG9hdChpbnB1dC5yYXRpbmcpLFxuICAgIGNyZWF0ZWRfYXQ6IERhdGUubm93KCksXG4gICAgdXBkYXRlZF9hdDogRGF0ZS5ub3coKSxcbiAgICB1c2VyX2lkOiAnMScsXG4gIH07XG5cbiAgY29uc3QgdHJ4ID0gYXdhaXQgY29ubmVjdGlvbi50cmFuc2FjdGlvbigpO1xuICB0cnkge1xuICAgIGNvbnN0IGluc2VydGVkUHJvZHVjdElkID0gYXdhaXQgdHJ4KCdwcm9kdWN0JykuaW5zZXJ0KG5ld1Byb2R1Y3QpO1xuICAgIGNvbnN0IHByb2R1Y3RfaWQgPSBpbnNlcnRlZFByb2R1Y3RJZFswXTtcblxuICAgIGF3YWl0IHRyeCgncHJvZHVjdF9jYXRlZ29yeScpLmluc2VydCh7XG4gICAgICBwcm9kdWN0X2lkLFxuICAgICAgY2F0ZWdvcnlfaWQ6IGlucHV0LmNhdGVnb3J5X2lkLFxuICAgIH0pO1xuXG4gICAgYXdhaXQgdHJ4LmNvbW1pdCgpO1xuXG4gICAgY29uc3QgY3JlYXRlZFByb2R1Y3QgPSBhd2FpdCBmaW5kUHJvZHVjdCh7IGlkOiBwcm9kdWN0X2lkIH0pO1xuXG4gICAgcmV0dXJuIGNyZWF0ZWRQcm9kdWN0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGF3YWl0IHRyeC5yb2xsYmFjaygpO1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZXJ2ZXIgc2lkZSBlcnJvciB0byBjcmVhdGUgYSBuZXcgcHJvZHVjdCcpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBEZWxldGVQcm9kdWN0KHsgaWQgfSkge1xuICBhd2FpdCBjb25uZWN0aW9uKCdwcm9kdWN0Jykud2hlcmVSYXcoJ2lkID0gPycsIFtpZF0pLmRlbCgpO1xuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gVXBkYXRlUHJvZHVjdChpZCwgaW5wdXQpIHtcbiAgY29uc3QgbmV3UHJvZHVjdCA9IHtcbiAgICBuYW1lOiBpbnB1dC5uYW1lLFxuICAgIGRlc2NyaXB0aW9uOiBpbnB1dC5kZXNjcmlwdGlvbixcbiAgICBpbWdfdXJsOiBpbnB1dC5pbWdfdXJsLFxuICAgIHByaWNlOiBwYXJzZUZsb2F0KGlucHV0LnByaWNlKSxcbiAgICByYXRpbmc6IHBhcnNlRmxvYXQoaW5wdXQucmF0aW5nKSxcbiAgICB1cGRhdGVkX2F0OiBEYXRlLm5vdygpLFxuICB9O1xuICBjb25zdCB1cGRhdGVkUHJvZHVjdCA9IGF3YWl0IGNvbm5lY3Rpb24oJ3Byb2R1Y3QnKVxuICAgIC53aGVyZVJhdygnaWQgPSA/JywgW2lkXSlcbiAgICAudXBkYXRlKG5ld1Byb2R1Y3QpO1xuXG4gIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBmaW5kUHJvZHVjdCh7IGlkOiB1cGRhdGVkUHJvZHVjdCB9KTtcblxuICByZXR1cm4gcHJvZHVjdDtcbn1cbiJdLCJuYW1lcyI6WyJjb25uZWN0aW9uIiwibGlzdFByb2R1Y3RzIiwic29ydCIsImNhdGVnb3J5Iiwic29ydFBhcnNlZCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImZpZWxkIiwib3JkZXIiLCJwcm9kdWN0cyIsImpvaW4iLCJ3aGVyZSIsInNlbGVjdCIsIm9yZGVyQnkiLCJmaW5kUHJvZHVjdCIsImlkIiwicHJvZHVjdCIsIndoZXJlUmF3IiwiZmlyc3QiLCJmaW5kUHJvZHVjdHNCeUlkIiwiYnVpbGRlciIsIndoZXJlSW4iLCJDcmVhdGVQcm9kdWN0IiwiaW5wdXQiLCJuZXdQcm9kdWN0IiwibmFtZSIsImRlc2NyaXB0aW9uIiwiaW1nX3VybCIsInByaWNlIiwicGFyc2VGbG9hdCIsInJhdGluZyIsImNyZWF0ZWRfYXQiLCJEYXRlIiwibm93IiwidXBkYXRlZF9hdCIsInVzZXJfaWQiLCJ0cngiLCJ0cmFuc2FjdGlvbiIsImluc2VydGVkUHJvZHVjdElkIiwiaW5zZXJ0IiwicHJvZHVjdF9pZCIsImNhdGVnb3J5X2lkIiwiY29tbWl0IiwiY3JlYXRlZFByb2R1Y3QiLCJlcnJvciIsInJvbGxiYWNrIiwiRXJyb3IiLCJEZWxldGVQcm9kdWN0IiwiZGVsIiwiVXBkYXRlUHJvZHVjdCIsInVwZGF0ZWRQcm9kdWN0IiwidXBkYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/product.js\n");

/***/ }),

/***/ "./lib/user.js":
/*!*********************!*\
  !*** ./lib/user.js ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createUser\": () => (/* binding */ createUser),\n/* harmony export */   \"findUser\": () => (/* binding */ findUser),\n/* harmony export */   \"validatePassword\": () => (/* binding */ validatePassword)\n/* harmony export */ });\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"uuid\");\n/* harmony import */ var _db_connection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../db/connection */ \"./db/connection.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_1__]);\nuuid__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nasync function createUser({ name , email , password  }) {\n    const cryptoPassword = await bcrypt__WEBPACK_IMPORTED_MODULE_0___default().hashSync(password, 10);\n    const user = {\n        id: (0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)(),\n        name,\n        email,\n        password: cryptoPassword,\n        createdAt: Date.now()\n    };\n    await (0,_db_connection__WEBPACK_IMPORTED_MODULE_2__.connection)(\"user\").insert(user);\n    return user;\n}\nasync function findUser({ email  }) {\n    const user = await (0,_db_connection__WEBPACK_IMPORTED_MODULE_2__.connection)(\"user\").select(\"*\").where(\"email\", email).first();\n    return user;\n}\nasync function validatePassword(user, inputPassword) {\n    const passwordsMatch = await bcrypt__WEBPACK_IMPORTED_MODULE_0___default().compareSync(inputPassword, user.password);\n    return passwordsMatch;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvdXNlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQTRCO0FBQ1E7QUFDVTtBQUV2QyxlQUFlSSxVQUFVLENBQUMsRUFBRUMsSUFBSSxHQUFFQyxLQUFLLEdBQUVDLFFBQVEsR0FBRSxFQUFFO0lBQzFELE1BQU1DLGNBQWMsR0FBRyxNQUFNUixzREFBZSxDQUFDTyxRQUFRLEVBQUUsRUFBRSxDQUFDO0lBRTFELE1BQU1HLElBQUksR0FBRztRQUNYQyxFQUFFLEVBQUVULHdDQUFNLEVBQUU7UUFDWkcsSUFBSTtRQUNKQyxLQUFLO1FBQ0xDLFFBQVEsRUFBRUMsY0FBYztRQUN4QkksU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUcsRUFBRTtLQUN0QjtJQUVELE1BQU1YLDBEQUFVLENBQUMsTUFBTSxDQUFDLENBQUNZLE1BQU0sQ0FBQ0wsSUFBSSxDQUFDLENBQUM7SUFFdEMsT0FBT0EsSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQUVNLGVBQWVNLFFBQVEsQ0FBQyxFQUFFVixLQUFLLEdBQUUsRUFBRTtJQUN4QyxNQUFNSSxJQUFJLEdBQUcsTUFBTVAsMERBQVUsQ0FBQyxNQUFNLENBQUMsQ0FDbENjLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FDWEMsS0FBSyxDQUFDLE9BQU8sRUFBRVosS0FBSyxDQUFDLENBQ3JCYSxLQUFLLEVBQUU7SUFDVixPQUFPVCxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRU0sZUFBZVUsZ0JBQWdCLENBQUNWLElBQUksRUFBRVcsYUFBYSxFQUFFO0lBQzFELE1BQU1DLGNBQWMsR0FBRyxNQUFNdEIseURBQWtCLENBQUNxQixhQUFhLEVBQUVYLElBQUksQ0FBQ0gsUUFBUSxDQUFDO0lBQzdFLE9BQU9lLGNBQWMsQ0FBQztBQUN4QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkYnJpZGdlLy4vbGliL3VzZXIuanM/NDgwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IGNvbm5lY3Rpb24gfSBmcm9tICcuLi9kYi9jb25uZWN0aW9uJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVVzZXIoeyBuYW1lLCBlbWFpbCwgcGFzc3dvcmQgfSkge1xuICBjb25zdCBjcnlwdG9QYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoU3luYyhwYXNzd29yZCwgMTApO1xuXG4gIGNvbnN0IHVzZXIgPSB7XG4gICAgaWQ6IHV1aWR2NCgpLFxuICAgIG5hbWUsXG4gICAgZW1haWwsXG4gICAgcGFzc3dvcmQ6IGNyeXB0b1Bhc3N3b3JkLFxuICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSxcbiAgfTtcblxuICBhd2FpdCBjb25uZWN0aW9uKCd1c2VyJykuaW5zZXJ0KHVzZXIpO1xuXG4gIHJldHVybiB1c2VyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmluZFVzZXIoeyBlbWFpbCB9KSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBjb25uZWN0aW9uKCd1c2VyJylcbiAgICAuc2VsZWN0KCcqJylcbiAgICAud2hlcmUoJ2VtYWlsJywgZW1haWwpXG4gICAgLmZpcnN0KCk7XG4gIHJldHVybiB1c2VyO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmFsaWRhdGVQYXNzd29yZCh1c2VyLCBpbnB1dFBhc3N3b3JkKSB7XG4gIGNvbnN0IHBhc3N3b3Jkc01hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmVTeW5jKGlucHV0UGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICByZXR1cm4gcGFzc3dvcmRzTWF0Y2g7XG59XG4iXSwibmFtZXMiOlsiYmNyeXB0IiwidjQiLCJ1dWlkdjQiLCJjb25uZWN0aW9uIiwiY3JlYXRlVXNlciIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiY3J5cHRvUGFzc3dvcmQiLCJoYXNoU3luYyIsInVzZXIiLCJpZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJpbnNlcnQiLCJmaW5kVXNlciIsInNlbGVjdCIsIndoZXJlIiwiZmlyc3QiLCJ2YWxpZGF0ZVBhc3N3b3JkIiwiaW5wdXRQYXNzd29yZCIsInBhc3N3b3Jkc01hdGNoIiwiY29tcGFyZVN5bmMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/user.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _public_reset_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../public/reset.css */ \"./public/reset.css\");\n/* harmony import */ var _public_reset_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_public_reset_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @apollo/client */ \"@apollo/client\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../apollo/client */ \"./apollo/client/index.js\");\n\n\n\n\nfunction App({ Component , pageProps  }) {\n    const apolloClient = (0,_apollo_client__WEBPACK_IMPORTED_MODULE_3__.useApollo)(pageProps.initialApolloState);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_apollo_client__WEBPACK_IMPORTED_MODULE_2__.ApolloProvider, {\n        client: apolloClient,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/workspace/MedBridge/pages/_app.js\",\n            lineNumber: 10,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/workspace/MedBridge/pages/_app.js\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFBNkI7QUFDbUI7QUFDSDtBQUU5QixTQUFTRSxHQUFHLENBQUMsRUFBRUMsU0FBUyxHQUFFQyxTQUFTLEdBQUUsRUFBRTtJQUNwRCxNQUFNQyxZQUFZLEdBQUdKLHlEQUFTLENBQUNHLFNBQVMsQ0FBQ0Usa0JBQWtCLENBQUM7SUFFNUQscUJBQ0UsOERBQUNOLDBEQUFjO1FBQUNPLE1BQU0sRUFBRUYsWUFBWTtrQkFDbEMsNEVBQUNGLFNBQVM7WUFBRSxHQUFHQyxTQUFTOzs7OztnQkFBSTs7Ozs7WUFDYixDQUNqQjtBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWRicmlkZ2UvLi9wYWdlcy9fYXBwLmpzP2UwYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi9wdWJsaWMvcmVzZXQuY3NzJztcbmltcG9ydCB7IEFwb2xsb1Byb3ZpZGVyIH0gZnJvbSAnQGFwb2xsby9jbGllbnQnO1xuaW1wb3J0IHsgdXNlQXBvbGxvIH0gZnJvbSAnLi4vYXBvbGxvL2NsaWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgY29uc3QgYXBvbGxvQ2xpZW50ID0gdXNlQXBvbGxvKHBhZ2VQcm9wcy5pbml0aWFsQXBvbGxvU3RhdGUpO1xuXG4gIHJldHVybiAoXG4gICAgPEFwb2xsb1Byb3ZpZGVyIGNsaWVudD17YXBvbGxvQ2xpZW50fT5cbiAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICA8L0Fwb2xsb1Byb3ZpZGVyPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkFwb2xsb1Byb3ZpZGVyIiwidXNlQXBvbGxvIiwiQXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIiwiYXBvbGxvQ2xpZW50IiwiaW5pdGlhbEFwb2xsb1N0YXRlIiwiY2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./public/reset.css":
/*!**************************!*\
  !*** ./public/reset.css ***!
  \**************************/
/***/ (() => {



/***/ }),

/***/ "@apollo/client":
/*!*********************************!*\
  !*** external "@apollo/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@apollo/client");

/***/ }),

/***/ "@apollo/client/link/schema":
/*!*********************************************!*\
  !*** external "@apollo/client/link/schema" ***!
  \*********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@apollo/client/link/schema");

/***/ }),

/***/ "@hapi/iron":
/*!*****************************!*\
  !*** external "@hapi/iron" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("@hapi/iron");

/***/ }),

/***/ "apollo-server-micro":
/*!**************************************!*\
  !*** external "apollo-server-micro" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("apollo-server-micro");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("bcrypt");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("cookie");

/***/ }),

/***/ "knex":
/*!***********************!*\
  !*** external "knex" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("knex");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "graphql-tools":
/*!********************************!*\
  !*** external "graphql-tools" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("graphql-tools");;

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = import("uuid");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/_app.js"));
module.exports = __webpack_exports__;

})();